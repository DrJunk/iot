<!DOCTYPE html>
<html lang="en">

  <head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>IRPi - The Universal IoT IR Remote</title>

    <!-- Bootstrap core CSS -->
    <link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="css/half-slider.css" rel="stylesheet">
	<link href="css/AboutUs.css" rel="stylesheet">

  </head>

  <body>

    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
      <div class="container">
        <a class="navbar-brand" href="#">IRPi</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarResponsive">
          <ul class="navbar-nav ml-auto">
            <li class="nav-item">
              <a class="nav-link" href="#">Home
                <!--<span class="sr-only">(current)</span>-->
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#about">About</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#code">Code</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#contact">Contact</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <header>
      <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
        <ol class="carousel-indicators">
          <!--<li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
          <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
          <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>-->
        </ol>
        <div class="carousel-inner" role="listbox">
          <!-- Slide One - Set the background image for this slide in the line below -->
          <div class="carousel-item active" style="background-image: url('http://placehold.it/1900x1080')">
            <div class="carousel-caption d-none d-md-block">
              <h3>IRPi - the Universal IR Remote</h3>
              <p>This is a description for the first slide.</p>
            </div>
          </div>

          <!-- Slide Two - Set the background image for this slide in the line below -->
          <!--<div class="carousel-item" style="background-image: url('http://placehold.it/1900x1080')">
            <div class="carousel-caption d-none d-md-block">
              <h3>Second Slide</h3>
              <p>This is a description for the second slide.</p>
            </div>
          </div>-->
          <!-- Slide Three - Set the background image for this slide in the line below -->
          <!--<div class="carousel-item" style="background-image: url('http://placehold.it/1900x1080')">
            <div class="carousel-caption d-none d-md-block">
              <h3>Third Slide</h3>
              <p>This is a description for the third slide.</p>
            </div>
          </div>
        </div>--><!--
        <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="sr-only">Previous</span>
        </a>
        <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="sr-only">Next</span>
        </a>
      </div>-->
    </header>

    <!-- Page Content -->
    <section id="about" class="py-5"  style="background-color:pink">
      <div class="container">
        <h1>What is IRPi?</h1>
        <p>IRPi is a universal IoT IR remote based on Raspberry Pi. It allows you to control any IR-based device such as TVs, set-top boxes and air conditioners. IRPi controls mulitple devices from the cloud using a simple and intuitive interface.</p>
        <!--<p>The background images for the slider are set directly in the HTML using inline CSS. The rest of the styles for this template are contained within the
          <code>half-slider.css</code>file.</p>-->
      </div>
    </section>

    <section class="py-5"">
      <div class="container">
        <h1>Demo</h1>
        <p>Youtube Video</p>
      </div>
    </section>

    <section class="py-5" style="background-color:lightblue;">
      <div class="container">
        <h1>Features</h1>
        <ul>
          <li>Record and Transmit any IR signal</li>        
          <li>Control your device through a mobile-friendly website</li>       
          <li>Manage multiple Raspberry Pi's from the cloud</li>
          <li>Set timers for future remote commands</li>          
          <li>Access manually through easy HTTP Requests</li>
        </ul>
      </div>
    </section>

    <section class="py-5"  style="background-color:lightblue">
      <div class="container">
        <h2>Putting the IR in IRPi</h2>
        <p>IR (Infra red) is a light wave with a longer wavelength than red light - this makes it invisible to the human eye. Since many day-to-day objects emmit IR signal naturally, IR remotes/receivers don't simply emmit and record IR; they use a unique protocol. Only when the transmitter modulates IR at a 38Khz frequency, the receiver detects a 'low' signal. This can be explained simply by the following diagram.</p>

        <img src="photos/ir_signal.png" margin-bottom="20px">

        <p>In order to read and transmit IR codes, we used the GPIO library provided by microsoft. It allows to read and write to the GPIO pins on the RPi.<br>
		Since we worked with Windows 10, which is not a real time operating system, this part was quite challenging. As explained earlier, to recive and transmit IR codes there is a need to change from high to low voltage in a 38kHz frequency. Altough the RPi is fast enough, the operation system often stops the code in order to maintain itself. Therefore our naive attempts to obtain an accurate and reliable 38kHz rate failed and we had to find smarter solutions.<br>
        For reading signals, the IR reciver outputs 'high' or 'low' voltage based on the IR frequency as showen in the last diagram. We used the GPIOChangeReader class provided by microsoft. It places timestamps in kernal mode to record fast changes in the IR receiver signal, which we can later read from the device in user mode.<br>
        Transmitting was a bigger challenge for us. For that purpuse we used a '555 timer' connected to the IR LED on our breadboard. The '555 timer' modulates a 38kHz frequency, and we use the GPIO to enable or disable the timer. The output of the timer is connected to the IR LED.</p>
      </div>
    </section>
	
    <section class="py-5">
      <div class="container">
        <h1>Building the IRPi</h1>
        <p>The universal remote is built from the following- a Raspberry Pi 3, an IR receiver and an IR transmitter (LED). The IR LED is connected to a 555 timer that modulates a 38kHz frequency. It also contains a green LED for debugging and a pushbutton to accept input. The following diagram shows the wiring of the IRPi:</p>

        <img src="photos/breadboard_with_info.png" margin-bottom="20px" margin-top="20px" width="70%">

      </div>
    </section>

    <section class="py-5">
      <div class="container">
        <h1>Communication with the cloud</h1>
        <p>Our project's communcation is done through several cloud services provideed by Microsoft Azure. The main parts are:</p>
        <ul>
          <li>Azure App Service - Web App</li>        
          <li>Cloud Storage - Azure Storage Table</li>
          <li>Azure Functions</li>       
          <li>IoT Hub</li>
        </ul>
        <p>The following diagram explains the interactions between these services:</p>

        <img src="photos/cloud_communication.png" margin-bottom="20px" width="100%">
      </div>

      <div class="container" >
        <h4>IoT Hub</h4>
        <p>Bla</p>
        <h4>Web App</h4>
        <p>Bla</p>
        <h4>Azure Functions</h4>
        <p>Bla</p>
        <h4>Azure cloud Table</h4>
        <p>Bla</p>

        <h2>Communication examples</h2>
   		<h4>Trasnmit</h4>
		<p>When a user clicks on a transmit button </p>
		<img src="photos/transmit_diagram.png" margin-bottom="20px" width="80%">
		<p>The following diagram explains what happens when a user clicks on a transmit button:</p>
		<ol>
			<li>A GET request is sent to the Web app sufficient info to know which IR message the user clicked on.</li>
			<li>The Web app asks the Storage Table for the appropriate IR message in the IRRecordingTable with the information from the GET request.</li>
			<li>The Storage Table retrievs the IR message and sents is back to the Web app.</li>
			<li>The Web app invokes a direct method which tells the IoT Hub which device should transmit and what message.</li>
			<li>The IoT then communcates with the chosen divice and the actual IR message with then be transmited by the divice.</li>
		</ol> 
		
        <h4>Record</h4>
        <p>Bla</p>
        <h4>Schedule</h4>
        <p>Bla</p>

      </div>

    </section>


    <section id="code" class="py-5">
      <div class="container">
        <h1>Source & Documentation</h1>
		<h2>Link to GitHub</h2>
             
      </div>
    </section>
	
	<section class="py-5"  style="background-color:lightblue">
      <div class="container">
        <h2>API</h2>
        <p>IR (Infra red) is a light wave with a longer wavelength than red light - this makes it invisible to the human eye. Since many day-to-day objects emmit IR signal naturally, IR remotes/receivers don't simply emmit and record IR; they use a unique protocol. Only when the transmitter modulates IR at a 38Khz frequency, the receiver detects a 'low' signal. This can be explained simply by the following diagram.</p>

        <img src="photos/ir_signal.png" margin-bottom="20px">

        <p>In order to read and transmit IR codes, we used the GPIO library provided by microsoft. It allows to read and write to the GPIO pins on the RPi.<br>
		Since we worked with Windows 10, which is not a real time operating system, this part was quite challenging. As explained earlier, to recive and transmit IR codes there is a need to change from high to low voltage in a 38kHz frequency. Altough the RPi is fast enough, the operation system often stops the code in order to maintain itself. Therefore our naive attempts to obtain an accurate and reliable 38kHz rate failed and we had to find smarter solutions.<br>
        For reading signals, the IR reciver outputs 'high' or 'low' voltage based on the IR frequency as showen in the last diagram. We used the GPIOChangeReader class provided by microsoft. It places timestamps in kernal mode to record fast changes in the IR receiver signal, which we can later read from the device in user mode.<br>
        Transmitting was a bigger challenge for us. For that purpuse we used a '555 timer' connected to the IR LED on our breadboard. The '555 timer' modulates a 38kHz frequency, and we use the GPIO to enable or disable the timer. The output of the timer is connected to the IR LED.</p>
      </div>
    </section>


	<section id="contact" class="wrapper style1 special">
	    <div class="inner">
	        <header>
	            <h2>IRPi</h2>
	            <p>The Universal IoT IR Remote</p>
	        </header>
	        <div class="flex flex-4">
	            <div class="box person">
	                <div class="image round">
	                    <img src="/Images/pic03.jpg" alt="Omer Kafri" />
	                </div>
	                <h3>Omer Kafri</h3>
	            </div>
	            <div class="box person">
	                <div class="image round">
	                    <img src="/Images/pic04.jpg" alt="Amit Atsmon" />
	                </div>
	                <h3>Amit Atsmon</h3>
	            </div>
	            <div class="box person">
	                <div class="image round">
	                    <img src="/Images/pic05.jpg" alt="Gal Wiernik" />
	                </div>
	                <h3>Gal Wiernik</h3>
	            </div>
	        </div>
	    </div>
	</section>



    <!-- Footer -->
    <footer class="py-5 bg-dark">
      <div class="container">
        <p class="m-0 text-center text-white">Copyright &copy; IRPi 2017</p>
      </div>
      <!-- /.container -->
    </footer>

    <!-- Bootstrap core JavaScript -->
    <script src="vendor/jquery/jquery.min.js"></script>
    <script src="vendor/popper/popper.min.js"></script>
    <script src="vendor/bootstrap/js/bootstrap.min.js"></script>

  </body>

</html>
